# Below is an example of alignment process for PLA products, obtained from plate-based Prox-seq pipeline
# ReadAlignmentSmartSeq takes input R1List, which contains a csv file of single cell fastq files and the cell id
#           file_path,cell_id
# barcode_cocktail_5.2_2.csv: a csv file containing protein names and their DNA barcodes in columns 1 and 2, respectivelly

# Read alignment: output is a single txt.gz file containing all single cells and their PLA products
java -jar /directory/path/PLA_alignment.jar ReadAlignmentSmartSeq \
R1List=/directory/path/R1List.csv \
O=/directory/path/ReadAlignmentSmartSeq_out.txt.gz \
ABfile=/directory/path/NFKB_barcode_alignment.csv \
SUMMARY=/directory/path/Alignment/ReadAlignmentSmartSeq_summary.txt \
HEADER=TRUE

# Digital count matrix
java -jar /directory/path/PLA_alignment.jar DigitalCountSmartSeq \
dirI=/directory/path/UMIMerged_separate \
O=/directory/path/Smartseq2_PLA_dge.txt.gz \
ABfile=/directory/path/barcode_cocktail_5.2_2.csv \
HEADER=TRUE \
REMOVE_DUPLICATE=TRUE \
EXPORT_DUPLICATE=TRUE \
SUMMARY=/directory/path/count_export_summary.txt
